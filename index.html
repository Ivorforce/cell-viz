<!DOCTYPE html>
<html>
    <head>
        <meta charset=utf-8>
        <title>Cell Regions</title>
        <style>
            body { margin: 0; }
            canvas { width: 100%; height: 100% }
        </style>
    </head>
    <body>
        <script src="dyson-bundle.js"></script>
        <script>
        var cells = new Cells(
            4, // layers 
            20, // rows
            20  // columns
        );

        for (var i=0; i<cells.length; i++) {
            cells[i].forEach(function(val, idx, M) {
                if (mathjs.random() > 0.90 /* 90% sparsity */) {
                    cells[i].subset(mathjs.index(idx[0], idx[1]), mathjs.pickRandom([1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2]));
                }
            });
		}

        drawCells(cells);

        camera.position.z = 20;
        camera.position.y = -30;
        camera.position.x = 10;

        camera.rotateOnAxis(new THREE.Vector3(1, 0, 1), 45*mathjs.PI/180);

        </script>
    </body>
</html>